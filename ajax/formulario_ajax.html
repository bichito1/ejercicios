<!doctype html/>
<html>
<head>
	<title>FORMULARIO VALIDACION AJAX</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="estilos.css"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-	ui.css">
</head>
<body>
<header>
</header>
<main>


	<h1>FORMULARIO VALIDACION AJAX</h1>
	<form method="post">
	<table id="ayax">
		<tr>
		<td><label>Nombre:</label></td>
		<td><input type="text" name="nombre"></td>
		<td><span class="error nombre"></span></td>
		</tr>
	
		<tr>
		<td><label>Apellidos:</label></td>
		<td><input type="text" name="apellidos"></td>
		<td><span class="error apellidos"></span></td>
		</tr>

		<tr>
		<td><label>Email:</label></td>
		<td><input type="text" name="email"></td>
		<td><span class="error email"></span></td>
		</tr>

		<tr>
		<td><label>Sitio Web:</label></td>
	   	<td><input type="text" name="sitio_web"></td>
		<td><span class="error sitio web"></span></td>
		</tr>
		
		<tr>
		<td><input type="submit" value="Enviar"><span class="mensaje"></span></td>
		</tr>
	</table>
	</form>
	</div>
</main>
<footer></footer>
<script
	 src="https://code.jquery.com/jquery-3.2.1.min.js"
			  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
			  crossorigin="anonymous"></script>
        
<script
			  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
			  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
			  crossorigin="anonymous"></script>

<script>
	$('[type="submit"]').on('click', function(event) {
	   event.preventDefault();
	   var formulario_serializado = $('form').serialize();
	   $('.error').empty();
	   $.ajax({
	     url: 'validacion_ajax.php',
	     method: "POST",
	     data: formulario_serilizado,
	     success: function(respuesta){
		if (respuesta.length) {
		   $.each(respuesta, function(campo, mensaje_error) {
		     $('.error.' + campo).text(mensaje_error);
		   });
		} else {
		   $('.mensaje').text('nos pondremos en contacto contigo.'),
		}
	     }
	   });	
	});
</script>


</body>
</html>
